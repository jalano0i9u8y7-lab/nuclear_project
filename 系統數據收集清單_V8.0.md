# 核彈計畫 V8.0 - 系統數據收集完整清單

> **目的**：列出系統所有需要收集的數據，標註哪些可用 GOOGLEFINANCE，供 Gemini 確認正確代號

---

## 📊 一、P5 Daily 宏觀數據（MACRO_DATA_DAILY）

### 1.1 商品期貨（Commodities）

| 商品名稱 | 目前代碼 (Yahoo) | 目前代碼 (Stooq) | 是否可用 GOOGLEFINANCE | 備註 |
|---------|-----------------|-----------------|----------------------|------|
| **WTI 原油** | `CL=F` | `CL.F` | ✅ **可用** | 需要確認正確代號（Gemini 說 `CL1:COM`，但 GPT 說不可靠） |
| **Brent 原油** | `BZ=F` | `BRENT.F` | ✅ **可用** | 需要確認正確代號（Gemini 說 `CO1:COM`，但 GPT 說不可靠） |
| **黃金** | `GC=F` | `GC.F` | ✅ **可用** | 需要確認正確代號（Gemini 說 `GC1:COM`，但 GPT 說不可靠） |
| **白銀** | `SI=F` | `SI.F` | ✅ **可用** | 需要確認正確代號（Gemini 說 `SI1:COM`，但 GPT 說不可靠） |
| **銅** | `HG=F` | `HG.F` | ✅ **可用** | 需要確認正確代號（Gemini 說 `HG1:COM`，但 GPT 說不可靠） |

**⚠️ 注意**：GPT 審核指出 Gemini 提供的期貨代碼（`CL1:COM` / `GC1:COM` 等）**高度可疑**，可能是 Bloomberg 代碼而非 Google Finance 代碼。建議：
- 到 Google Finance 網站手動搜尋商品（例如 Crude Oil）
- 查看實際的 quote symbol（例如 `CLW00:NYMEX`）
- 再拿去測試 `GOOGLEFINANCE()`

---

### 1.2 匯率（Currencies）

| 匯率名稱 | 目前代碼 (Yahoo) | 目前代碼 (Stooq) | 是否可用 GOOGLEFINANCE | 備註 |
|---------|-----------------|-----------------|----------------------|------|
| **美元指數** | `DX-Y.NYB` | - | ⚠️ **部分可用** | Gemini 說 `INDEXCBOE:DXY` 不穩，建議改用 `CURRENCY:DXY` 或 ETF `UUP` |
| **歐元/美元** | `EURUSD=X` | `EURUSD` | ✅ **可用** | `CURRENCY:EURUSD`（GPT 確認可靠） |
| **英鎊/美元** | `GBPUSD=X` | `GBPUSD` | ✅ **可用** | `CURRENCY:GBPUSD`（GPT 確認可靠） |
| **美元/日圓** | `USDJPY=X` | `USDJPY` | ✅ **可用** | `CURRENCY:USDJPY`（GPT 確認可靠） |
| **美元/瑞郎** | `USDCHF=X` | `USDCHF` | ✅ **可用** | `CURRENCY:USDCHF`（GPT 確認可靠） |
| **美元/人民幣** | `CNY=X` | `USDCNY` | ✅ **可用** | `CURRENCY:USDCNY`（GPT 確認可靠） |

**✅ 結論**：匯率數據 **全部可用 GOOGLEFINANCE**，格式為 `CURRENCY:XXXYYY`

---

### 1.3 國債利率（Bonds）

| 國債名稱 | 目前代碼 (Yahoo) | 目前代碼 (Stooq) | 是否可用 GOOGLEFINANCE | 備註 |
|---------|-----------------|-----------------|----------------------|------|
| **10年美債殖利率** | `^TNX` | `10Y.B` | ✅ **可用** | `INDEXCBOE:TNX`（GPT 確認可靠）<br>⚠️ 注意：回傳值需除以 10（例如 42.50 = 4.25%） |
| **5年美債殖利率** | `^FVX` | - | ✅ **可用** | `INDEXCBOE:FVX`（Gemini 提供） |
| **30年美債殖利率** | `^TYX` | - | ✅ **可用** | `INDEXCBOE:TYX`（Gemini 提供） |
| **3個月美債殖利率** | `^IRX` | `3USY.B` | ✅ **可用** | `INDEXCBOE:IRX`（Gemini 提供） |

**✅ 結論**：國債利率數據 **全部可用 GOOGLEFINANCE**，格式為 `INDEXCBOE:XXX`

---

### 1.4 市場指數（Indices）

| 指數名稱 | 目前代碼 (Yahoo) | 目前代碼 (Stooq) | 是否可用 GOOGLEFINANCE | 備註 |
|---------|-----------------|-----------------|----------------------|------|
| **VIX（恐慌指數）** | `^VIX` | `^VIX` | ✅ **可用** | `INDEXCBOE:VIX`（GPT 確認可靠） |

**✅ 結論**：VIX 可用 GOOGLEFINANCE

---

## 📈 二、P5 Daily OHLCV 數據（MARKET_OHLCV_DAILY）

### 2.1 股票 OHLCV（Open, High, Low, Close, Volume）

| 市場 | 目前數據源 | 是否可用 GOOGLEFINANCE | 備註 |
|------|-----------|----------------------|------|
| **美股** | stooq.com (通過 Cloud Function 代理) | ✅ **可用** | 格式：`NASDAQ:NVDA`, `NYSE:TSM`（GPT 確認可靠） |
| **台股** | TWSE/TPEX API | ✅ **可用** | 格式：`TPE:2330`（Gemini 提供） |
| **日股** | stooq.com (通過 Cloud Function 代理) | ✅ **可用** | 格式：`TYO:8035`（Gemini 提供） |

**✅ 結論**：股票 OHLCV **全部可用 GOOGLEFINANCE**，格式為 `EXCHANGE:TICKER`

**可獲取的屬性**：
- `"price"`：當前價格
- `"priceopen"`：開盤價
- `"high"`：當日最高
- `"low"`：當日最低
- `"volume"`：當日成交量
- `"open"`, `"close"`, `"high"`, `"low"`, `"volume"`（歷史數據，需指定日期範圍）

---

## 📊 三、P5 Daily 技術指標（MARKET_INDICATORS_DAILY）

### 3.1 技術指標

| 指標名稱 | 目前計算方式 | 是否可用 GOOGLEFINANCE | 備註 |
|---------|------------|----------------------|------|
| **RSI (14)** | 從 OHLCV 計算 | ❌ **不可用** | GOOGLEFINANCE 不提供技術指標，需自行計算 |
| **MACD** | 從 OHLCV 計算 | ❌ **不可用** | GOOGLEFINANCE 不提供技術指標，需自行計算 |
| **ATR (14)** | 從 OHLCV 計算 | ❌ **不可用** | GOOGLEFINANCE 不提供技術指標，需自行計算 |
| **MA (20/60/240)** | 從 OHLCV 計算 | ❌ **不可用** | GOOGLEFINANCE 不提供技術指標，需自行計算 |
| **Volume MA** | 從 OHLCV 計算 | ❌ **不可用** | GOOGLEFINANCE 不提供技術指標，需自行計算 |

**❌ 結論**：技術指標 **不可用 GOOGLEFINANCE**，需從 OHLCV 數據自行計算

---

## 📊 四、P5 Daily 板塊 ETF（SECTOR_ETF_DAILY）

### 4.1 SPDR Sector ETFs

| ETF 代碼 | 板塊名稱 | 目前數據源 | 是否可用 GOOGLEFINANCE | 備註 |
|---------|---------|-----------|----------------------|------|
| **XLK** | Technology | stooq.com | ✅ **可用** | `NYSEARCA:XLK`（GPT 確認可靠） |
| **XLF** | Financials | stooq.com | ✅ **可用** | `NYSEARCA:XLF` |
| **XLE** | Energy | stooq.com | ✅ **可用** | `NYSEARCA:XLE` |
| **XLV** | Healthcare | stooq.com | ✅ **可用** | `NYSEARCA:XLV` |
| **XLI** | Industrials | stooq.com | ✅ **可用** | `NYSEARCA:XLI` |
| **XLP** | Consumer Staples | stooq.com | ✅ **可用** | `NYSEARCA:XLP` |
| **XLY** | Consumer Discretionary | stooq.com | ✅ **可用** | `NYSEARCA:XLY` |
| **XLU** | Utilities | stooq.com | ✅ **可用** | `NYSEARCA:XLU` |
| **XLB** | Materials | stooq.com | ✅ **可用** | `NYSEARCA:XLB` |
| **XLRE** | Real Estate | stooq.com | ✅ **可用** | `NYSEARCA:XLRE` |
| **XLC** | Communication Services | stooq.com | ✅ **可用** | `NYSEARCA:XLC` |

**✅ 結論**：板塊 ETF **全部可用 GOOGLEFINANCE**，格式為 `NYSEARCA:XXX`

---

## 📊 五、P5 Daily 衍生品數據（DERIVATIVES_DAILY）

### 5.1 期權數據

| 數據類型 | 目前數據源 | 是否可用 GOOGLEFINANCE | 備註 |
|---------|-----------|----------------------|------|
| **Put/Call Ratio** | CSE 搜尋 (theocc.com, cboe.com) | ❌ **不可用** | GOOGLEFINANCE 不提供期權數據 |
| **IV (30天)** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供期權數據 |
| **Open Interest** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供期權數據 |
| **SKEW** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供期權數據 |

**❌ 結論**：期權數據 **不可用 GOOGLEFINANCE**，需繼續使用 CSE 搜尋或其他數據源

---

## 📊 六、P2 財務數據（Phase2_Output）

### 6.1 財務指標

| 數據類型 | 目前數據源 | 是否可用 GOOGLEFINANCE | 備註 |
|---------|-----------|----------------------|------|
| **營收 YoY** | CSE 搜尋 (財報狗/buffet code) | ⚠️ **部分可用** | `"marketcap"` 可用，但財務報表需 CSE |
| **毛利率** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供財務報表 |
| **營業利益率** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供財務報表 |
| **淨利率** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供財務報表 |
| **CFO** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供財務報表 |
| **FCF** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供財務報表 |
| **市值 (Market Cap)** | CSE 搜尋 | ✅ **可用** | `"marketcap"` 屬性（GPT 確認可用） |
| **本益比 (P/E)** | CSE 搜尋 | ✅ **可用** | `"pe"` 屬性（GPT 確認可用） |
| **每股盈餘 (EPS)** | CSE 搜尋 | ✅ **可用** | `"eps"` 屬性（GPT 確認可用） |
| **Beta** | CSE 搜尋 | ✅ **可用** | `"beta"` 屬性（GPT 確認可用） |

**⚠️ 結論**：部分財務指標可用 GOOGLEFINANCE（市值、P/E、EPS、Beta），但財務報表數據需繼續使用 CSE

---

## 📊 七、P2.5 籌碼面數據（SMART_MONEY_DAILY / SMART_MONEY_WEEKLY）

### 7.1 籌碼面數據

| 數據類型 | 目前數據源 | 是否可用 GOOGLEFINANCE | 備註 |
|---------|-----------|----------------------|------|
| **13F 機構持倉** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供機構持倉數據 |
| **內部人交易** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供內部人交易數據 |
| **Dark Pool 活動** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供 Dark Pool 數據 |
| **FPE_B (Forward P/E)** | CSE 搜尋 (Yahoo Finance) | ❌ **不可用** | GOOGLEFINANCE 不提供 Forward P/E |

**❌ 結論**：籌碼面數據 **不可用 GOOGLEFINANCE**，需繼續使用 CSE 搜尋

---

## 📊 八、P5 Daily 新聞數據（NEWS_ATOMS_DAILY）

### 8.1 新聞原子化數據

| 數據類型 | 目前數據源 | 是否可用 GOOGLEFINANCE | 備註 |
|---------|-----------|----------------------|------|
| **新聞標題** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供新聞數據 |
| **新聞內容** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供新聞數據 |
| **新聞時間** | CSE 搜尋 | ❌ **不可用** | GOOGLEFINANCE 不提供新聞數據 |

**❌ 結論**：新聞數據 **不可用 GOOGLEFINANCE**，需繼續使用 CSE 搜尋

---

## 📋 總結：可用 GOOGLEFINANCE 的數據清單

### ✅ 完全可用（建議優先使用）

1. **匯率**：全部可用 `CURRENCY:XXXYYY`
   - EURUSD, GBPUSD, USDJPY, USDCHF, USDCNY
   - 美元指數需確認（可能是 `CURRENCY:DXY` 或 ETF `UUP`）

2. **國債利率**：全部可用 `INDEXCBOE:XXX`
   - TNX (10年), FVX (5年), TYX (30年), IRX (3個月)
   - ⚠️ 注意：TNX 需除以 10

3. **市場指數**：VIX 可用 `INDEXCBOE:VIX`

4. **股票 OHLCV**：全部可用 `EXCHANGE:TICKER`
   - 美股：`NASDAQ:NVDA`, `NYSE:TSM`
   - 台股：`TPE:2330`
   - 日股：`TYO:8035`

5. **ETF**：全部可用 `NYSEARCA:XXX` 或 `NASDAQ:XXX`
   - SPDR Sector ETFs (XLK, XLF, XLE, XLV, XLI, XLP, XLY, XLU, XLB, XLRE, XLC)

6. **部分財務指標**：可用
   - `"marketcap"`：市值
   - `"pe"`：本益比
   - `"eps"`：每股盈餘
   - `"beta"`：Beta 係數

### ⚠️ 需要確認（Gemini 提供但 GPT 說不可靠）

1. **商品期貨**：Gemini 說可用，但 GPT 說代碼不可靠
   - WTI 原油：`CL1:COM`（需手動驗證）
   - Brent 原油：`CO1:COM`（需手動驗證）
   - 黃金：`GC1:COM`（需手動驗證）
   - 白銀：`SI1:COM`（需手動驗證）
   - 銅：`HG1:COM`（需手動驗證）
   
   **建議**：到 Google Finance 網站手動搜尋，確認實際代號（例如 `CLW00:NYMEX`）

### ❌ 不可用（需繼續使用現有數據源）

1. **技術指標**：需從 OHLCV 自行計算
2. **期權數據**：需使用 CSE 搜尋
3. **財務報表**：需使用 CSE 搜尋（財報狗/buffet code）
4. **籌碼面數據**：需使用 CSE 搜尋
5. **新聞數據**：需使用 CSE 搜尋

---

## 🎯 下一步行動

1. **先測試宏觀數據**（匯率、國債、VIX、股票 OHLCV、ETF）
   - 這些 GPT 已確認可用
   - 如果測試成功，立即切換到 GOOGLEFINANCE

2. **請 Gemini 確認商品期貨代號**
   - 提供此清單給 Gemini
   - 請 Gemini 提供**經過驗證的** Google Finance 代號
   - 或提供驗證方法（如何到 Google Finance 網站確認）

3. **如果商品期貨可用，全部切換到 GOOGLEFINANCE**
   - 移除對 stooq.com 和 CSE 的依賴（僅限宏觀數據）
   - 保留 CSE 用於期權、財務報表、籌碼面、新聞

---

## 📝 給 Gemini 的問題清單

1. **商品期貨代號確認**：
   - WTI 原油、Brent 原油、黃金、白銀、銅的**正確 Google Finance 代號**是什麼？
   - 如何驗證這些代號是否正確？
   - 是否應該到 Google Finance 網站手動搜尋確認？

2. **美元指數代號確認**：
   - `INDEXCBOE:DXY` 是否可靠？
   - 還是應該使用 `CURRENCY:DXY` 或 ETF `UUP`？

3. **其他可用數據**：
   - 還有哪些數據可以用 GOOGLEFINANCE 獲取？
   - 例如：成交量平均、交易時間等

4. **歷史數據獲取**：
   - 如何用 GOOGLEFINANCE 獲取歷史 OHLCV 數據？
   - 格式是否為 `=GOOGLEFINANCE("TICKER", "all", DATE_START, DATE_END, "DAILY")`？

---

**生成時間**：2025-01-17  
**版本**：V8.0  
**狀態**：待 Gemini 確認代號
